{% extends 'pantry/base.html' %}
{% load staticfiles %}
{% load pantry_template_tags %}

{% block title_block %}
	{{ recipe.title }}
{% endblock %}

{% block body_block %}
	{% if recipe %}
	<div class="header-featured">
		<img class="banner" src="/media/{{ recipe.picture }}" alt="{{ recipe.title }}">
		<div class="banner-text">
			<h1 class="cat-heading" id="recipe-title">{{ recipe.title }}</h1>
			<div class="gap-small"></div>
			<div class="info-tags">
				<div class="tag">
					<strong class="recipe-tag-head">Preparation</strong>
					<p class="recipe-tag-info">{{ recipe.prep_time|format_time }}</p>
				</div>
				<div class="tag">
					<strong class="recipe-tag-head">Cooking</strong>
					<p class="recipe-tag-info">{{ recipe.cook_time|format_time }}</p>
				</div>
				<div class="tag">
					<strong class="recipe-tag-head">Difficulty</strong>
					<p class="recipe-tag-info">{{ recipe.difficulty }}</p>
				</div>
				<div class="tag">
					<strong class="recipe-tag-head">Servings</strong>
					<p class="recipe-tag-info">{{ recipe.servings }}</p>
				</div>
				<div class="tag">
					<img class="icon-big recipe-tag-head" src="{% static 'img/star-orange.png' %}" alt="Stars">
					<p class="recipe-tag-info">{{ recipe.stars }}</p>
				</div>
			</div>
		</div>
		
		
		{% if user.is_authenticated %}
		<button class="btn-inverted" id="star-btn" type="button">
			<img class="icon-big" src="{% static 'img/star-dark.png' %}" alt="Star">
			Star
		</button>
		{% endif %}
	</div>
	
	{% if categories %}
	<div class="category-tags">
		
		{% for cat in categories %}
		<a class="cat-tag" href="{% url 'pantry:show_category' cat.slug %}">{{ cat.name }}</a>
		{% endfor %}
	</div>
	{% endif %}
	
	<div class="verticals-left-narrow">
		<div>
			<div class="vertical-featured" id="ingredients">
				<h2 class="vertical-title">INGREDIENTS</h2></br>
				{% if ingredients %}
					<ul class="ingredient-list">
						{% for ing in ingredients %}
							<li class="ingredient">{{ ing.quantity }} {{ ing.ingredient|get_number:ing.plural }}</li>
						{% endfor %}
					</ul><br />
				{% else %}
					<p class="info-message">No ingredients required for this recipe!</p>
					<div class="gap-small"></div>
				{% endif %}
			</div>
		</div>
		<div class="vertical">
			<h2 class="vertical-title">METHOD</h2></br>
			<ol>
			{% for step in method %}
				{% if step %}
				<li class="long-text">{{ step }}</li><br />
				{% endif %}
			{% endfor %}
			</ol>
		</div>
	</div>
		
	{% else %}
	<h1 class="central-heading">We couldn't find this recipe...</h1>
	<p class="info-message">Maybe the author deleted it, or something went wrong - make sure you have the right link!</p>
	{% endif %}
{% endblock %}