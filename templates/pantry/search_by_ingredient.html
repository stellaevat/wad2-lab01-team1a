{% extends 'pantry/base.html' %}
{% load staticfiles %}
{% load pantry_template_tags %}

{% block title_block %}
	Search by Ingredient
{% endblock %}

{% block body_block %}
	{% if types %}
	<form action = "">
		{% for t in types %}
			<button type="button" class="collapsible" style="width:90%;height:75px;border-radius:0px;"><strong>{{ t }}</strong><br /></button>
			<div class="collapsing" style="padding:10px">
			{% for ingredient in ingredients|get_item:t %}
				<input type="checkbox" id="{{ ingredient }}" name="{{ ingredient }}" value="{{ ingredient }}">
				<label for ="{{ ingredient }}" >{{ ingredient }}</label>
			{% endfor %}
			</div>
		{% endfor %}
		<br />
		<input type="submit" value="Done" style="color:white; background-color:var(--burgundy); height:50px; width:100px;border-radius: 25px;border-color: var(--burgundy);">
	</form>
	{% endif %}

<script>
	//This script is from w3schools.org and has been slightly changed
	var collapsible = document.getElementsByClassName("collapsible");
	var i;
		
	for (i = 0; i < collapsible.length; i++) {
		collapsible[i].addEventListener("click", function() {
			this.classList.toggle("active");
			var collapsing = this.nextElementSibling;
			if (collapsing.style.display === "block") {
				collapsing.style.display = "none";
			} else {
				collapsing.style.display = "block";
			}
		});
	}
</script>

{% endblock %}

